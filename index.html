<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title></title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="manifest" href="manifest.json">
  <meta name="msapplication-config" content="browserconfig.xml">
  <meta name="msapplication-TileColor" content="#da532c">
</head>
<body>

asdfaf
  <script>
    const cross_origin_script_url = "https://testprofy.ru/scripts/shared-w.js";

    const worker_url = getWorkerURL( cross_origin_script_url );
    const worker = new SharedWorker( worker_url );
    worker.port.onmessage = (event) => {
      console.log('Message from SharedWorker:', event.data);
    };

    URL.revokeObjectURL( worker_url );

    worker.port.start();

    worker.port.postMessage('Hello from Angular app!');


    function getWorkerURL( url ) {
      const content = `importScripts( "${ url }" );`;
      return URL.createObjectURL( new Blob( [ content ], { type: "text/javascript" } ) );
    }
  </script>
</body>
</html>
